<form name="form">
    <div class="form-floating mb-3">
        <input [(ngModel)]="persona.nombre" type="text" class="form-control" name="nombrePersona" id="nombrepersona" placeholder="Nombre">
        <label for="nombrePersona">Nombre de persona:</label>
    </div>
    <div class="form-floating mb-3">
        <input [(ngModel)]="persona.apellido" type="text" class="form-control" name="apellidoPersona" id="apellidoPersona" placeholder="Apellido">
        <label for="apellidoPersona">Apellido de persona:</label>
    </div>
    <div class="form-floating mb-3">
        <input [(ngModel)]="persona.nombreUsuario" type="text" class="form-control" name="usuarioPersona" id="usuarioPersona" placeholder="Username">
        <label for="usuarioPersona">Nombre de Usuario:</label>
    </div>
    <div class="form-floating mb-3">
        <input [(ngModel)]="persona.contrasenia" type="password" class="form-control" name="contraseniaPersona" id="contraseniaPersona" placeholder="Password">
        <label for="contraseniaPersona">Contrase√±a:</label>
    </div>
    <div class="form-floating mb-3">
        <input [(ngModel)]="persona.email" type="text" class="form-control" name="emailPersona" id="emailPersona" placeholder="Email">
        <label for="emailPersona">Email:</label>
    </div>
    <div class="form-floating mb-3">
        <input [(ngModel)]="persona.legajo" type="number" class="form-control" name="legajoPersona" id="legajoPersona" placeholder="Legajo">
        <label for="legajoPersona">Legajo:</label>
    </div>
    <div class="form-floating mb-3">
        <input [(ngModel)]="persona.dni" type="text" class="form-control" name="dniPersona" id="dniPersona" placeholder="DNI">
        <label for="dniPersona">DNI:</label>
    </div>



    <div class="form-floating mb-3">
        <select [(ngModel)]="area._id" (change)="getRolesArea()" name="areas" id="areas">
            <option *ngFor="let area of areas" [value]="area._id">{{area.nombre}}</option>
        </select>
    </div>


    <div *ngIf="area" class="form-floating mb-3">
        <select [(ngModel)]="rol._id" name="rol" id="rol" placeholder="Rol">
            <option *ngFor="let role of roles" [value]="role._id">{{role.nombre}}</option>
        </select>
    </div>
    <div class="d-flex justify-content-center">
        <button type="submit" class="btn btn-success" (click)="guardarPersona()">Guardar persona</button>
    </div>
</form>
<div class="table-responsive">
    <table class="table table-dark table-borderless m-0">
        <thead>
            <tr>
                <th scope="col-3">Acciones</th>
                <th scope="col-9">Nombre</th>
                <th scope="col-9">Apellido</th>
                <th scope="col-9">Correo</th>
                <th scope="col-9">DNI</th>
                <th scope="col-9">Area</th>
                <th scope="col-9">Estado</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let persona of personas">
                <td class="d-flex">
                    <button *ngIf="persona.estado" type="button" class="btn p-0 rounded-pill" (click)="borrarPersona(persona)" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Desactivar">
                        <img class="iconoTabla m-0" src="assets/iconos/eliminar.png" alt="">
                    </button>
                    <button type="button" class="btn p-0 rounded-pill" (click)="borrarPersona(persona)" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Cambiar Estado">
                        <img class="iconoTabla m-0" src="assets/iconos/editar.png" alt="">
                    </button>
                </td>
                <th scope="row">{{persona.nombre}}</th>
                <th scope="row">{{persona.apellido}}</th>
                <th scope="row">{{persona.email}}</th>
                <th scope="row">{{persona.dni}}</th>
                <th scope="row">{{persona.area.nombre}}</th>
                <th scope="row" class="p-1 m-0" *ngIf="persona.estado">
                    <button type="button" class="btn p-0 rounded-pill">
                        <img class="iconoTabla m-0" src="assets/iconos/activo.png" alt="activo">
                    </button>
                </th>
                <th scope="row" class="p-1 m-0" *ngIf="!persona.estado"><button type="button" class="btn p-0 rounded-pill">
                        <img class="iconoTabla m-0" src="assets/iconos/inactivo.png" alt="inactivo">
                    </button>
                </th>
            </tr>
        </tbody>
    </table>
</div>